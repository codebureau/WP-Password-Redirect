name: Package Wordpress Plugin

on:
    workflow_dispatch:
    push:
        branches:
            - main

jobs:
    package:
        name: Package Plugin Zip
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - uses: vimtor/action-zip@v1.2
              with:
                files: src/ 
                dest: wp-password-redirect.zip

            - uses: actions/upload-artifact@v4
              with:
                name: plugin-package
                path: ${{ github.workspace }}/wp-password-redirect.zip